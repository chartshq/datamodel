import DataModel from"../../main";import{stack_by}from"../../../../webassembly/pkg/datamodel_wasm";import{ContextType}from"../../constants/context";import{getNumbersArrayFromMemory,getIndecesFromMemory}from"../../contexts/wasm/fields/utils";import{_sortOrderResolver}from"../../constants/sort";var DataWranglers={stackBy:function(e,t,r,a,o){var n={y0:[],y1:[],id:[]},m=e.context();switch(DataModel._contextType){case ContextType.WASM:var s=m.context(),c=m.getSchema().findIndex(function(e){return t===e.name}),y=m.getSchema().findIndex(function(e){return r===e.name}),d=m.getSchema().findIndex(function(e){return a===e.name}),i=stack_by(s,c,y,d,_sortOrderResolver(o));n.y0=getNumbersArrayFromMemory(i.get_y_0(),m.getDataMeta().rows),n.y1=getNumbersArrayFromMemory(i.get_y_1(),m.getDataMeta().rows),n.id=getIndecesFromMemory(i.get_id(),m.getDataMeta().rows),i.free_data(),i.free()}return n}};export default DataWranglers;